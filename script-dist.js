!function(){"use strict";var e=[,function(e,t,a){a.r(t),a.d(t,{TaskController:function(){return n}});var o=a(2);o.Model;class n{constructor(e=null){this.id=e,this.completed=null!=e&&this.getTaskByID(e).completed,this.text=null==e?"New Task":this.getTaskByID(e).text}static loadTestData(){o.Model.insertTestDataToStorage()}getTaskByID(e){return(new o.Model).getTaskFromList(e)}save(){(new o.Model).updateTaskByID(this.id,this.completed,this.text)}delete(){(new o.Model).deleteTaskByID(this.id)}getTasks(){return o.Model.getTaskListFromStorage()}addToList(e="New Task"){(new o.Model).insertTaskToList(e)}}},function(e,t,a){a.r(t),a.d(t,{Model:function(){return o}});class o{static insertTestDataToStorage(){if(null==localStorage.getItem("tasks")){const e=[{id:1,completed:!0,text:"Task 1"},{id:2,completed:!1,text:"Task 2"},{id:3,completed:!1,text:"Task 3"}];localStorage.setItem("tasks",JSON.stringify(e))}}static getTaskListFromStorage(){return JSON.parse(localStorage.getItem("tasks"))}insertTaskToList(e){const t=JSON.parse(localStorage.getItem("tasks"));let a=null==t[t.length-1]?0:t[t.length-1].id;t.push({id:++a,completed:!1,text:e}),this.updateStorage(t)}updateTaskByID(e,t,a){const o=JSON.parse(localStorage.getItem("tasks")).map((o=>(o.id==e&&(o.completed=t,o.text=a),o)));this.updateStorage(o)}deleteTaskByID(e){const t=JSON.parse(localStorage.getItem("tasks")).filter((t=>{if(t.id!=e)return t}));this.updateStorage(t)}updateStorage(e){localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(e))}getTaskFromList(e){return JSON.parse(localStorage.getItem("tasks")).find((t=>t.id==e))}}},function(e,t,a){a.r(t),a.d(t,{View:function(){return n}});var o=a(1);o.TaskController;class n{getHTML(){const e=(new o.TaskController).getTasks();let t="";return e.forEach((e=>{t+=`<label data-id="${e.id}">\n                            <p>\n                                <input data-id="${e.id}" type="checkbox" class="checkbox filled-in" ${e.completed?"checked":""} />\n                                <span>${e.text}</span>\n                            </p>\n                            <p class="manage">\n                                <a href="#"><i data-id="${e.id}" class="material-icons dp48 btn-edit">create</i></a>\n                                <a href="#"><i data-id="${e.id}" class="material-icons dp48 btn-delete">delete</i></a>\n                            </p>                        \n                        </label>`})),t}}}],t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,a),s.exports}a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){a.r(o);var e=a(1),t=a(3);e.TaskController,t.View,document.addEventListener("DOMContentLoaded",(()=>{e.TaskController.loadTestData();let a=document.querySelector(".todo-list");const o=new t.View;null==a&&(a=document.createElement("div"),a.className="todo-list",document.querySelector(".container").append(a)),a.innerHTML+=o.getHTML();const n=document.querySelector(".btn-add"),s=document.querySelector("#task_text");n.addEventListener("click",(()=>{if(""!=s.value){(new e.TaskController).addToList(s.value),s.value="",a.innerHTML="",a.innerHTML+=o.getHTML()}}));let r=null;document.querySelector(".edit-text-wrapper");a.addEventListener("click",(function(t){const a=t.target;if(a.classList.contains("checkbox")){let t=new e.TaskController(a.dataset.id);t.completed=a.checked,t.save()}if(a.classList.contains("btn-delete")){t.preventDefault();let o=new e.TaskController(a.dataset.id);const n=document.querySelector(`label[data-id="${a.dataset.id}"]`);o.delete(),n.remove()}if(a.classList.contains("btn-edit")){t.preventDefault();let o=new e.TaskController(a.dataset.id);console.log(o);const n=document.querySelector("#edit_text");document.querySelector(".edit-text-wrapper").style.display="flex",n.focus(),n.value=o.text,n.dataset.id=o.id,r=o}}));document.querySelector(".btn-edit-text").addEventListener("click",(()=>{const e=document.querySelector("#edit_text"),t=document.querySelector(`label[data-id="${r.id}"] span`),a=document.querySelector(".edit-text-wrapper");r.text=e.value,r.save(),a.style.display="none",t.innerHTML=e.value}))}))}()}();